<%- include("../../views/layouts/user/header") %>
<section class="content-main mt-80 mb-80">
    <div class="card mx-auto card-login col-4">
      <div class="card-body">
        <h4 class="card-title mb-4">Verify Email</h4>
        <form method="post" action="/change-password" onsubmit="return validateEmail()">
          <div class="mb-3">
            <input class="form-control" name="email" placeholder="Enter your email" type="email" id="email">
            <div class="error-message" id="email-error"></div>
          </div>
          <% if (locals.message) { %>
            <div class="alert alert-danger">
              <%= message %>
            </div>
          <% } %>
          <div class="mb-4">
            <button type="submit" class="btn btn-primary w-100">Send OTP</button>
          </div>
        </form>
      </div>
    </div>
  </section>
  <script>
    function validateEmail() {
      const emailInput = document.getElementById('email');
      const emailError = document.getElementById('email-error');
      const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    
      emailError.textContent = '';
      emailInput.classList.remove('is-invalid');
    
      if (!emailInput.value) {
        emailError.textContent = 'Please enter your email';
        emailInput.classList.add('is-invalid');
        return false;
      }
    
      if (!emailPattern.test(emailInput.value)) {
        emailError.textContent = 'Please enter a valid email address';
        emailInput.classList.add('is-invalid');
        return false;
      }
    
      return true;
    }
    </script>
<%- include("../../views/layouts/user/footer") %>
